function changeUnit(){$("#F").click(function(){$(this).hasClass("active")||($(this).addClass("active"),$("#C").removeClass("active")),$("#temp").html(tempF)}),$("#C").click(function(){$(this).hasClass("active")||($(this).addClass("active"),$("#F").removeClass("active")),$("#temp").html(tempC)})}function getWeather(){cityName=$("#city-name").val(),cityName=cityName.length?$("#city-name").val():"London",$.ajax({url:url+cityName+"&units=metric"+key,method:"GET",success:showWeather})}function showWeather(a){$.ajax({url:url+cityName+"&units=imperial"+key,method:"GET",success:getTempF});var b=a.weather[0].id;tempC=a.main.temp+"&deg;C",$("h1").html(a.name),$("#description").html(a.weather[0].description),$("#icon").attr("class","owf owf-4x owf-"+b),$("#C").hasClass("active")&&$("#temp").html(tempC),changeUnit()}function getTempF(a){tempF=a.main.temp+"&deg;F",$("#F").hasClass("active")&&$("#temp").html(tempF)}var url="http://api.openweathermap.org/data/2.5/weather?q=";key="&APPID=97c677c78c63efd0792e76f5738281b8",tempC="",tempF="",unitC="",unitF="",cityName="",$("#city-name").keyup(function(a){13===a.which&&getWeather()}),changeUnit();